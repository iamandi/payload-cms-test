"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e,r=(e=require("escape-html"))&&"object"==typeof e&&"default"in e?e.default:e;function t(){return(t=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}var n={paragraph:"paragraph",block_quote:"block_quote",code_block:"code_block",link:"link",ul_list:"ul_list",ol_list:"ol_list",listItem:"list_item",heading:{1:"heading_one",2:"heading_two",3:"heading_three",4:"heading_four",5:"heading_five",6:"heading_six"},emphasis_mark:"italic",strong_mark:"bold",delete_mark:"strikeThrough"};function i(e,r){var o,u,c,s,d,p,h,g;void 0===r&&(r={nodeTypes:{}});var y=t({},n,r.nodeTypes,{heading:t({},n.heading,null===(o=r)||void 0===o||null===(u=o.nodeTypes)||void 0===u?void 0:u.heading)}),v=null!==(c=r.linkDestinationKey)&&void 0!==c?c:"link",f=[{text:""}];switch(e.children&&Array.isArray(e.children)&&e.children.length>0&&(f=e.children.map((function(n){return i(t({},n,{ordered:e.ordered||!1}),r)}))),e.type){case"heading":return{type:y.heading[e.depth||1],children:f};case"list":return{type:e.ordered?y.ol_list:y.ul_list,children:f};case"listItem":return{type:y.listItem,children:f};case"paragraph":return{type:y.paragraph,children:f};case"link":return(s={type:y.link})[v]=e.url,s.children=f,s;case"blockquote":return{type:y.block_quote,children:f};case"code":return{type:y.code_block,language:e.lang,children:[{text:e.value}]};case"html":var _;return(null===(d=e.value)||void 0===d?void 0:d.includes("<br>"))?{break:!0,type:y.paragraph,children:[{text:(null===(_=e.value)||void 0===_?void 0:_.replace(/<br>/g,""))||""}]}:{type:"paragraph",children:[{text:""}]};case"emphasis":return t(((p={})[y.emphasis_mark]=!0,p),a(f),l(f));case"strong":return t(((h={})[y.strong_mark]=!0,h),a(f),l(f));case"delete":return t(((g={})[y.delete_mark]=!0,g),a(f),l(f));case"text":default:return{text:e.value||""}}}var a=function(e){return{text:e.map((function(e){return null==e?void 0:e.text})).join("")}};function l(e){return e.reduce((function(e,r){return Object.keys(r).forEach((function(t){"children"!==t&&"type"!==t&&"text"!==t&&(e[t]=r[t])})),e}),{})}var o=function(e){return"string"==typeof e.text};function u(e,r){var t=e.trim(),n=t,i=""+r+n+c(r);if(n.length===e.length)return i;var a=r+n+c(r);return e.replace(t,a)}var c=function(e){return e.split("").reverse().join("")};exports.default=function(e){this.Compiler=function(r){return r.children.map((function(r){return i(r,e)}))}},exports.defaultNodeTypes=n,exports.deserialize=i,exports.serialize=function e(i,a){void 0===a&&(a={nodeTypes:n});var l=a.nodeTypes,c=void 0===l?n:l,s=a.ignoreParagraphNewline,d=void 0!==s&&s,p=a.listDepth,h=void 0===p?0:p,g=i.text||"",y=i.type||"",v=t({},n,c,{heading:t({},n.heading,c.heading)}),f=[v.ul_list,v.ol_list],_=g;if(o(i)||(_=i.children.map((function(r){var n=!o(r)&&f.includes(r.type||""),a=f.includes(i.type||""),l=!1;return!o(i)&&Array.isArray(i.children)&&(l=i.children.some((function(e){return!o(e)&&e.type===v.link}))),e(t({},r,{parentType:y}),{nodeTypes:v,ignoreParagraphNewline:(d||n||a||l)&&!r.break,listDepth:f.includes(r.type||"")?h+1:h})})).join("")),d||""!==g&&"\n"!==g||i.parentType!==v.paragraph||(y=v.paragraph,_="<br>"),""!==_)switch("<br>"!==_&&o(i)&&(i.strikeThrough&&i.bold&&i.italic?_=u(_,"~~***"):i.bold&&i.italic?_=u(_,"***"):(i.bold&&(_=u(_,"**")),i.italic&&(_=u(_,"_")),i.strikeThrough&&(_=u(_,"~~")))),y){case v.heading[1]:return"# "+_+"\n";case v.heading[2]:return"## "+_+"\n";case v.heading[3]:return"### "+_+"\n";case v.heading[4]:return"#### "+_+"\n";case v.heading[5]:return"##### "+_+"\n";case v.heading[6]:return"###### "+_+"\n";case v.block_quote:return"> "+_+"\n\n";case v.code_block:return"```"+(i.language||"")+"\n"+_+"\n```\n";case v.link:return"["+_+"]("+(i.link||"")+")";case v.ul_list:case v.ol_list:return"\n"+_+"\n";case v.listItem:for(var k=i&&i.parentType===v.ol_list,b="",m=0;h>m;m++)b+=k?"   ":"  ";return b+(k?"1.":"-")+" "+_;case v.paragraph:return _+"\n";default:return r(_)}};
//# sourceMappingURL=remark-slate.cjs.production.min.js.map
